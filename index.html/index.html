<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Prakash Shoe Center</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Header (unified) -->
  <header class="header">
    <div class="left">
      <a class="logo" href="index.html">Prakash Shoe Center</a>
    </div>
    <nav>
      <a href="shoe.html">Shoes</a>
      <a href="sandals.html">Sandals</a>
      <a href="gumboot.html">Gumboots</a>
      <a href="slippers.html">Slippers</a>
      <a href="socks.html">Socks</a>
      <a href="cart.html" class="cart-badge">Cart ðŸ›’ (<span data-cart-count>0</span>)</a>
    </nav>
  </header>

  <main class="container">
    <section class="card">
      <h1 style="margin-bottom:12px">Welcome to Prakash Shoe Center</h1>
      <p class="text-muted">Quality footwear at great prices â€” browse the categories below.</p>
    </section>

    <section style="margin-top:20px" class="container">
      <div class="card">
        <h2>Featured Products</h2>
        <div id="featured-grid" class="products-grid" style="margin-top:14px;"></div>
      </div>
    </section>
  </main>

  <footer style="text-align:center;padding:18px 6px;color:#6b7280;">
    Â© <span id="year"></span> Prakash Shoe Center â€” Contact: prakashshoecenter767@gmail.com
  </footer>

  <div id="toast" class="toast" aria-live="polite"></div>

  <script src="store-data.js"></script>
  <script>
    // render featured product grid from store-data
    (function(){
      const target = document.getElementById('featured-grid');
      const products = window.__STORE_PRODUCTS || [];
      // show first 6
      products.slice(0,6).forEach(p => {
        const card = document.createElement('a');
        card.className = 'product-card';
        card.href = `product.html?id=${p.id}`;
        card.innerHTML = `
          <img src="${p.image || window.__STORE_FALLBACK_IMAGE}" alt="${p.name}" onerror="this.onerror=null;this.src='${window.__STORE_FALLBACK_IMAGE}'">
          <h3>${p.name}</h3>
          <p class="price">NPR ${Number(p.price).toFixed(0)}</p>
        `;
        target.appendChild(card);
      });
      document.getElementById('year').textContent = new Date().getFullYear();

      // update nav cart count
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      document.querySelectorAll('[data-cart-count]').forEach(e => e.textContent = cart.reduce((s,i)=>s+(i.quantity||0),0));
    })();
  </script>
</body>
</html>
